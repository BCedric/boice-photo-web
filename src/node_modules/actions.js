// import {actionCreator, createTypes} from 'redux-action-creator';

const types = {
  SAVE_IMG_ADDRS: 'SAVE_IMG_ADDRS',
  LOAD_IMAGES: 'LOAD_IMAGES',
}

function saveImgAddrs (addrs) {
  return {
    type: types.SAVE_IMG_ADDRS,
    addrs
  }
}

function loadImages () {
  return {
    type: types.LOAD_IMAGES
  }
}


function fetchImgAddr (galleryId) {
  return function (dispatch) {
    if(galleryId !== undefined)return fetch('http://localhost:8080/gallery/'+ galleryId)
      .then(
        response => response.json(),
        error => console.log('An error occured.', error)
      )
      .then(json => {
        dispatch(saveImgAddrs(json))
      })
    else return fetch(`http://localhost:8080/pictures`)
      .then(
        response => response.json(),
        error => console.log('An error occured.', error)
      )
      .then(json => {
        dispatch(saveImgAddrs(json))
      })
  }
}

export {types, fetchImgAddr, loadImages}
