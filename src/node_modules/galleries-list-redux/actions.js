import config from 'config'

const types = {
  SET_IS_FETCHING: 'SET_IS_FETCHING',
  SET_GALLERIES_LIST_OBJECT: 'SET_GALLERIES_LIST_OBJECT',
  RAZ_LIST: 'RAZ_LIST'
}


const setIsFetching = bool => {
  return {
    type: types.SET_IS_FETCHING,
    bool
  }
}

const setGalleriesListObject = galleriesList => {
  return {
    type: types.SET_GALLERIES_LIST_OBJECT,
    galleriesList
  }
}

const razList = () => {
  return {
    type: types.RAZ_LIST
  }
}

const fetchGalleriesList = (galleriesListId) => {
  return function (dispatch) {
    dispatch(setIsFetching(true))
    return fetch(config.adressServer + '/galleriesList/' + galleriesListId)
    .then(
      response => response.json(),
      error => console.log('An error occured.', error)
    )
    .then(
      json => {
        dispatch(setGalleriesListObject(json))
        dispatch(setIsFetching(false))
      }
    )
  }
}

export { types, fetchGalleriesList, razList }
