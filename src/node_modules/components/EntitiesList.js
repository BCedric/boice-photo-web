import React from 'react'
import { withStyles } from '@material-ui/styles'
import { List, ListItem, ListItemSecondaryAction, Icon, Divider } from '@material-ui/core'

import './EntitiesList.css'

const styles = {
    root: {
        width: '100%'
    },
}

function EntitiesList(props) {
    const { entities, classes, deleteEntity, renderEntity } = props
    return (
        <div className="entities-collection">
            {entities != null && <List className={classes.root}>
                {entities.map((entity, index) =>
                    <div key={index}>
                        <ListItem>
                            {renderEntity(entity)}
                            <ListItemSecondaryAction>
                                <div className="actions" onClick={() => deleteEntity(entity.id)}>
                                    <Icon>delete</Icon>
                                </div>
                            </ListItemSecondaryAction>
                        </ListItem>
                        {index !== entities.length - 1 && <Divider />}
                    </div>
                )}
            </List>}
        </div>
    )
}

export default withStyles(styles)(EntitiesList)