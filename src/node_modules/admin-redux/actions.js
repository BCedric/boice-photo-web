const types = {
  SET_MESSAGE: 'SET_MESSAGE',
  SAVE_ADRESS_SERVER: 'SAVE_ADRESS_SERVER'
}

const setMessage = message => {
  return {
    type: types.SET_MESSAGE,
    message
  }
}

const saveAdressServer = adress => {
  console.log(adress);
  return {
    type: types.SAVE_ADRESS_SERVER,
    adress
  }
}

const updateDB = (adressServer) => {
  return function (dispatch) {
    fetch(adressServer + '/updatedb')
    .then(
      response => response.json(),
      error => console.log('An error occured.', error)
    )
    .then(
      json => {
        dispatch(setMessage(json.update))
      }
    )
  }
}

export { types, updateDB, saveAdressServer }
