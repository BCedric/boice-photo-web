import config from 'config'

const types = {
  ON_CHANGE_FORM: 'ON_CHANGE_FORM',
  SET_RESPONSE: 'SET_RESPONSE'
}

function onChangeForm (param) {
  return {
    type: types.ON_CHANGE_FORM,
    param
  }
}

function setResponse (res) {
  return {
    type: types.SET_RESPONSE,
    res
  }
}

function sendEmail (form) {
  return dispatch => {
    fetch(config.adressServer + '/sendemail', {
          method: 'POST',
          headers: {
            'Accept': 'application/json',
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(form)
        })
        .then(function(response) {
          dispatch(setResponse(response))
        });
  }
}

export { types, onChangeForm, sendEmail, setResponse}
